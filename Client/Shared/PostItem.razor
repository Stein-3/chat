@using blazorTest.Shared.Models;
@using blazorTest.Client.ViewModel;
@using Oniqys.Blazor.Controls;
@inherits ViewComponentBase<PostViewModel>

@if (Message != null)
{
    <style type="text/css">
        .message {
            text-indent: 1em;
        }
    </style>

    <div>
        <small class="text-white-50">@Message.HandleName</small>
        <small class="text-white-50"> (@Message.CreateDate.)</small>
        @if (Message.CreateDate != Message.UpdateDate)
        {
            <small class="text-white-50"> 更新日時 @Message.UpdateDate</small>
        }
        @ChildContent
        <div class="rounded border border-dark bg-dark text-white">
            @foreach (var line in Message.MessageContext.Split("\n") ?? Enumerable.Empty<string>())
            {
                <div class="message text-white">
                    <span>@line</span>
                </div>
            }
        </div>

    </div>
}

@code {
    [Parameter]
    public MessageBase Message { get; set; }

    [Parameter]
    public RenderFragment ChildContent { get; set; }
}